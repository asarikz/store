@(
  tran: PersistedTransaction, addr: Address
)(
  implicit lang: Lang,
  request: RequestHeader,
  loginSession: LoginSession
)

@import helper._

@main(Messages("end.transaction"), Some(loginSession)) {
  <h1>取引番号は @tran.header.id.get です。後日のお問い合わせのためお控えください。</h1>

  <h1>合計額</h1>
  <h2>@amount(tran.header.totalAmount)</h2>

  <h1>お買い上げ商品</h1>
  <table class="itemTable" border="0">
    <tr class="itemTableHeader">
      <th>@Messages("site")</th>
      <th>@Messages("itemName")</th>
      <th>@Messages("subtotal")</th>
    </tr>
    @tran.siteTable.map { site =>
      @tran.itemTable(site.id.get).map { e =>
        <tr class="itemTableBody">
          <td class="siteName">@site.name</td>
          <td class="itemName">@e._1.name</td>
          <td class="itemPrice">@amount(e._2.amount)</td>
        </tr>
      }
    }
  </table>

  <h1>送料</h1>
  <table class="shipping">
    <tr class="itemTableHeader">
      <th>店舗</th>
      <th>金額</th>
    </tr>
    @tran.siteTable.map { site =>
      @tran.shippingTable(site.id.get).map { e =>
        <tr class="shippingTableBody">
          <td class="site">@site.name</td>
          <td class="boxPrice">@amount(e.amount)</td>
        </tr>
      }
    }
    </table>

  <h1>送付先</h1>
  @address(addr)

  <br>
  <a href="/">TOPへ戻る</a>
}
