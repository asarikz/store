@(page: Page[(Category, CategoryName)])(
  implicit lang: Lang,
  request: RequestHeader,
  loginSession: LoginSession
)

@main(Messages("editCategoryTitle"), Some(loginSession)) {

  <script src="@routes.Assets.at("javascripts/jquery-ui.custom.min.js")" type="text/javascript"></script>
  <script src="@routes.Assets.at("javascripts/jquery.cookie.js")" type="text/javascript"></script>
  <link href="@routes.Assets.at("javascripts/skin-vista/ui.dynatree.css")" rel="stylesheet" type="text/css">
  <script src="@routes.Assets.at("javascripts/jquery.dynatree.min.js")" type="text/javascript"></script>
  <script type="text/javascript">
    $(function(){
        // Attach the dynatree widget to an existing <div id="tree"> element
        // and pass the tree options as an argument to the dynatree() function:
        $("#tree").dynatree({
            onActivate: function(node) {
                // A DynaTreeNode object is passed to the activation handler
                // Note: we also get this event, if persistence is on, and the page is reloaded.
                alert("You activated " + node.data.title);
            },
            persist: true,
            initAjax: { url: "categoryPathTree" }

        });
    });
    </script>


  <h1 class="title">@Messages("editCategoryTitle")</h1>

  <table class="categoryTable">
    <tr>
      <th class="categoryTableHeaderId categoryHeader">id</th>
      <th class="categoryTableHeaderPath categoryHeader">path</th>
      <th class="categoryTableHeaderName categoryHeader">name</th>
    </tr>

    @page.list.map {c =>
      <tr class="categoryTableBody">
        <td class="categoryTableId">@c._1.id</td>
        <td class="categoryTablePath"></td>
        <td class="categoryTableName">@c._2.name</td>
      </tr>
    }
  </table>

  <div id="tree">  </div>

}